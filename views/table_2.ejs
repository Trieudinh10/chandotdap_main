<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scada Fabrication Machines</title>
    <link rel="shortcut icon" href="/images/mini_logo.png" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/table_2.css">
</head>

<body>
    <%- include ('./partials/sidebar') %>
    <div class="table_2_page">
        <!-- <video autoplay muted loop id="background-video">
            <source src="/images/video_background_light.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video> -->
    </div>

    <div class="con_device">
        <select class="select_device" name="abc" id="machineSelect">
            <option value="1">Máy 1</option>
            <option value="2">Máy 2</option>
            <option value="3">Máy 3</option>
            <option value="4">Máy 4</option>
            <option value="5">Máy 5</option>
            <option value="6">Máy 6</option>
            <option value="7">Máy 7</option>
            <option value="8">Máy 8</option>
            <option value="9">Máy 9</option>
            <option value="10">Máy 10</option>
            <option value="11">Máy 11</option>
            <option value="12">Máy 12</option>
            <option value="13">Máy 13</option>
            <option value="14">Máy 14</option>
            <option value="15">Máy 15</option>
        </select>
        <button class="btn_document">Sửa</button>
        <button class="btn_document1">Lưu</button>
    </div>

    <table id="customers">
        <thead>
            <tr>
                <th style="width: 50px; text-align: center;">STT</th>
                <th style="width: 250px;">Time</th>
                <th style="width: 250px;">Mã khuôn</th>
                <th>Link</th>
            </tr>
        </thead>
        <tbody id="tableBody">
            <!-- Table rows will be added dynamically using JavaScript -->
        </tbody>
    </table>
    <button class="btn_document2">Thêm hàng</button>
    <button class="btn_document3">Xoá hàng</button>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var machineSelect = document.getElementById("machineSelect");
            var tableBody = document.getElementById("tableBody");
            var rowCount = parseInt(localStorage.getItem('rowCount')) || 1;

            function addRow() {
                rowCount++;
                localStorage.setItem('rowCount', rowCount);
                var newRow = document.createElement("tr");
                newRow.innerHTML = `
                        <td class="stt_center">${rowCount}</td>
                        <td>DD/MM/YYYY - hh:mm:ss</td>
                        <td>Mã khuôn</td>
                        <td>Link bản vẽ của Máy ${machineSelect.value}</td>
                    `;
                tableBody.appendChild(newRow);
            }

            function deleteRow() {
                if (rowCount > 1) {
                    tableBody.removeChild(tableBody.lastElementChild);
                    rowCount--;
                    localStorage.setItem('rowCount', rowCount);
                }
            }

            document.querySelector(".btn_document2").addEventListener("click", addRow);
            document.querySelector(".btn_document3").addEventListener("click", deleteRow);

            // Load initial rows
            for (var i = 1; i <= rowCount; i++) {
                var newRow = document.createElement("tr");
                newRow.innerHTML = `
                        <td class="stt_center">${i}</td>
                        <td>DD/MM/YYYY - hh:mm:ss</td>
                        <td>Mã khuôn</td>
                        <td>Link bản vẽ của Máy ${machineSelect.value}</td>
                    `;
                tableBody.appendChild(newRow);
            }
        });
    </script>

</body>

</html>
